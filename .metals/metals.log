[0m2021.03.26 13:40:08 INFO  Started: Metals version 0.10.0 in workspace '/Users/radu.stoian/IdeaProjects/zio_playground' for client vscode 1.53.2.[0m
[0m2021.03.26 13:40:09 INFO  time: initialize in 1.51s[0m
[0m2021.03.26 13:40:11 INFO  Attempting to connect to the build server...[0m
Starting the bsp launcher for bloop...
Opening a bsp server connection with 'bsp --protocol local --socket /var/folders/rx/gyxm_hyx0rs8j_zhhv6kwj9c0000gp/T/bsp-launcher3249708294068757382/bsp.socket'...
Waiting for the bsp connection to come up...
[0m2021.03.26 13:40:10 WARN  no build target for: /Users/radu.stoian/IdeaProjects/zio_playground/src/main/scala/application/Main.scala[0m
Waiting for the bsp connection to come up...
Waiting for the bsp connection to come up...
Waiting for the bsp connection to come up...
Waiting for the bsp connection to come up...
Waiting for the bsp connection to come up...
[0m2021.03.26 13:40:17 INFO  no build target: using presentation compiler with only scala-library: 2.12.13[0m
Waiting for the bsp connection to come up...
Waiting for the bsp connection to come up...
Waiting for the bsp connection to come up...
package application

import application.model.Topic
import zio.{ExitCode, Schedule, Task, URIO, ZEnv, ZIO}
import zio.duration._
import java.io.InputStream


import zio.console.{getStrLn, putStrLn}

import scala.io.Source

object Main extends zio.App {
  def readFile(s: String): Task[List[String]] = {
    ZIO.effect(getClass.getClassLoader.getResourceAsStream(s))
      .bracket(is => ZIO.succeed(is.close())) {
        is => ZIO.effect(Source.fromInputStream(is).getLines.toList.sorted)
      }
  }

  def getBeaconTopics: ZIO[ZEnv, Throwable, List[Topic]] = {
    ZIO.effect(List("a", "b", "c", "d").map(Topic))
  }

  def readAndPrint(s: String): ZIO[zio.console.Console, Throwable, List[String]] = {
    putStrLn("Starting") *> myAppLogic *> readFile(s)
      .flatMap(
        set => Task {
          set.foreach(println)
          set
        }
      )
  }

  val myAppLogic =
    for {
      _    <- putStrLn("Hello! What is your name?")
      name <- getStrLn
      _    <- putStrLn(s"Hello, ${name}, welcome to ZIO!")
    } yield ()

  // return type of run must be infallible [i.e. URIO]; need to handle errors to make it work
  override def run(args: List[String]): URIO[ZEnv, ExitCode] =
    readAndPrint("topics")
      .repeat(Schedule.spaced(12.seconds) && Schedule.recurs(3))
      .as(ExitCode(0))
      .orElse(ZIO.succeed(ExitCode(1)))
}

No server running at 127.0.0.1:8212, let's fire one...
Resolving ch.epfl.scala:bloop-frontend_2.12:1.4.8...
Starting bloop server at 127.0.0.1:8212...
Attempting a connection to the server...
Attempting a connection to the server...
Attempting a connection to the server...
Attempting a connection to the server...
Attempting a connection to the server...
Attempting a connection to the server...
Attempting a connection to the server...
Attempting a connection to the server...
Attempting a connection to the server...
Attempting a connection to the server...
Attempting a connection to the server...
Attempting a connection to the server...
[0m[32m[D][0m Waiting for a connection at local:///var/folders/rx/gyxm_hyx0rs8j_zhhv6kwj9c0000gp/T/bsp-launcher3249708294068757382/bsp.socket...
The server is listening for incoming connections at local:///var/folders/rx/gyxm_hyx0rs8j_zhhv6kwj9c0000gp/T/bsp-launcher3249708294068757382/bsp.socket...
Starting thread that pumps stdin and redirects it to the bsp server...
Starting thread that pumps server stdout and redirects it to the client stdout...
[0m2021.03.26 13:40:21 INFO  tracing is disabled for protocol BSP, to enable tracing of incoming and outgoing JSON messages create an empty file at /Users/radu.stoian/Library/Caches/org.scalameta.metals/bsp.trace.json[0m
[0m2021.03.26 13:40:21 INFO  time: Connected to build server in 10s[0m
[0m2021.03.26 13:40:21 INFO  Connected to Build server: Bloop v1.4.8[0m
[0m2021.03.26 13:40:22 ERROR Empty build targets. Expected at least one build target identifier.[0m
[0m2021.03.26 13:40:22 ERROR Empty build targets. Expected at least one build target identifier.[0m
[0m2021.03.26 13:40:22 ERROR Empty build targets. Expected at least one build target identifier.[0m
java.util.concurrent.RejectedExecutionException: Task scala.concurrent.impl.CallbackRunnable@2516dd64 rejected from java.util.concurrent.ThreadPoolExecutor@58b75aa1[Shutting down, pool size = 3, active threads = 3, queued tasks = 0, completed tasks = 52]
	at java.util.concurrent.ThreadPoolExecutor$AbortPolicy.rejectedExecution(ThreadPoolExecutor.java:2063)
	at java.util.concurrent.ThreadPoolExecutor.reject(ThreadPoolExecutor.java:830)
	at java.util.concurrent.ThreadPoolExecutor.execute(ThreadPoolExecutor.java:1379)
	at scala.concurrent.impl.ExecutionContextImpl$$anon$4.execute(ExecutionContextImpl.scala:138)
	at scala.concurrent.impl.CallbackRunnable.executeWithValue(Promise.scala:72)
	at scala.concurrent.impl.Promise$KeptPromise$Kept.onComplete(Promise.scala:372)
	at scala.concurrent.impl.Promise$KeptPromise$Kept.onComplete$(Promise.scala:371)
	at scala.concurrent.impl.Promise$KeptPromise$Successful.onComplete(Promise.scala:379)
	at scala.concurrent.impl.Promise.transform(Promise.scala:33)
	at scala.concurrent.impl.Promise.transform$(Promise.scala:31)
	at scala.concurrent.impl.Promise$KeptPromise$Successful.transform(Promise.scala:379)
	at scala.concurrent.Future.map(Future.scala:292)
	at scala.concurrent.Future.map$(Future.scala:292)
	at scala.concurrent.impl.Promise$KeptPromise$Successful.map(Promise.scala:379)
	at scala.concurrent.Future$.apply(Future.scala:659)
	at scala.meta.internal.metals.MetalsLanguageServer.$anonfun$profiledIndexWorkspace$2(MetalsLanguageServer.scala:2130)
	at scala.runtime.java8.JFunction0$mcV$sp.apply(JFunction0$mcV$sp.java:23)
	at scala.meta.internal.metals.TimerProvider.timedThunk(TimerProvider.scala:25)
	at scala.meta.internal.metals.MetalsLanguageServer.$anonfun$profiledIndexWorkspace$1(MetalsLanguageServer.scala:2128)
	at scala.runtime.java8.JFunction0$mcV$sp.apply(JFunction0$mcV$sp.java:23)
	at scala.concurrent.Future$.$anonfun$apply$1(Future.scala:659)
	at scala.util.Success.$anonfun$map$1(Try.scala:255)
	at scala.util.Success.map(Try.scala:213)
	at scala.concurrent.Future.$anonfun$map$1(Future.scala:292)
	at scala.concurrent.impl.Promise.liftedTree1$1(Promise.scala:33)
	at scala.concurrent.impl.Promise.$anonfun$transform$1(Promise.scala:33)
	at scala.concurrent.impl.CallbackRunnable.run(Promise.scala:64)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
java.util.concurrent.RejectedExecutionException: Task scala.concurrent.impl.CallbackRunnable@3451e8ca rejected from java.util.concurrent.ThreadPoolExecutor@58b75aa1[Shutting down, pool size = 3, active threads = 3, queued tasks = 0, completed tasks = 52]
	at java.util.concurrent.ThreadPoolExecutor$AbortPolicy.rejectedExecution(ThreadPoolExecutor.java:2063)
	at java.util.concurrent.ThreadPoolExecutor.reject(ThreadPoolExecutor.java:830)
	at java.util.concurrent.ThreadPoolExecutor.execute(ThreadPoolExecutor.java:1379)
	at scala.concurrent.impl.ExecutionContextImpl$$anon$4.execute(ExecutionContextImpl.scala:138)
	at scala.concurrent.impl.CallbackRunnable.executeWithValue(Promise.scala:72)
	at scala.concurrent.impl.Promise$DefaultPromise.$anonfun$tryComplete$1(Promise.scala:288)
	at scala.concurrent.impl.Promise$DefaultPromise.$anonfun$tryComplete$1$adapted(Promise.scala:288)
	at scala.concurrent.impl.Promise$DefaultPromise.tryComplete(Promise.scala:288)
	at scala.concurrent.Promise.complete(Promise.scala:53)
	at scala.concurrent.Promise.complete$(Promise.scala:52)
	at scala.concurrent.impl.Promise$DefaultPromise.complete(Promise.scala:187)
	at scala.concurrent.impl.Promise.$anonfun$transform$1(Promise.scala:33)
	at scala.concurrent.impl.CallbackRunnable.run(Promise.scala:64)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
java.util.concurrent.RejectedExecutionException: Task scala.concurrent.impl.CallbackRunnable@453fdadd rejected from java.util.concurrent.ThreadPoolExecutor@58b75aa1[Shutting down, pool size = 3, active threads = 3, queued tasks = 0, completed tasks = 52]
	at java.util.concurrent.ThreadPoolExecutor$AbortPolicy.rejectedExecution(ThreadPoolExecutor.java:2063)
	at java.util.concurrent.ThreadPoolExecutor.reject(ThreadPoolExecutor.java:830)
	at java.util.concurrent.ThreadPoolExecutor.execute(ThreadPoolExecutor.java:1379)
	at scala.concurrent.impl.ExecutionContextImpl$$anon$4.execute(ExecutionContextImpl.scala:138)
	at scala.concurrent.impl.CallbackRunnable.executeWithValue(Promise.scala:72)
	at scala.concurrent.impl.Promise$DefaultPromise.$anonfun$tryComplete$1(Promise.scala:288)
	at scala.concurrent.impl.Promise$DefaultPromise.$anonfun$tryComplete$1$adapted(Promise.scala:288)
	at scala.concurrent.impl.Promise$DefaultPromise.tryComplete(Promise.scala:288)
	at scala.concurrent.Promise.complete(Promise.scala:53)
	at scala.concurrent.Promise.complete$(Promise.scala:52)
	at scala.concurrent.impl.Promise$DefaultPromise.complete(Promise.scala:187)
	at scala.concurrent.impl.Promise.$anonfun$transform$1(Promise.scala:33)
	at scala.concurrent.impl.CallbackRunnable.run(Promise.scala:64)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
[0m2021.03.26 13:41:22 INFO  Started: Metals version 0.10.0 in workspace '/Users/radu.stoian/IdeaProjects/zio_playground' for client vscode 1.54.3.[0m
[0m2021.03.26 13:41:25 INFO  time: initialize in 2.34s[0m
[0m2021.03.26 13:41:26 INFO  Attempting to connect to the build server...[0m
Starting the bsp launcher for bloop...
Opening a bsp server connection with 'bsp --protocol local --socket /var/folders/rx/gyxm_hyx0rs8j_zhhv6kwj9c0000gp/T/bsp-launcher6122980514525141054/bsp.socket'...
Waiting for the bsp connection to come up...
[0m2021.03.26 13:41:25 WARN  no build target for: /Users/radu.stoian/IdeaProjects/zio_playground/src/main/scala/application/Main.scala[0m
[0m2021.03.26 13:41:26 INFO  skipping build import with status 'Requested'[0m
[0m[32m[D][0m Waiting for a connection at local:///var/folders/rx/gyxm_hyx0rs8j_zhhv6kwj9c0000gp/T/bsp-launcher6122980514525141054/bsp.socket...
The server is listening for incoming connections at local:///var/folders/rx/gyxm_hyx0rs8j_zhhv6kwj9c0000gp/T/bsp-launcher6122980514525141054/bsp.socket...
Starting thread that pumps stdin and redirects it to the bsp server...
Starting thread that pumps server stdout and redirects it to the client stdout...
[0m2021.03.26 13:41:27 INFO  tracing is disabled for protocol BSP, to enable tracing of incoming and outgoing JSON messages create an empty file at /Users/radu.stoian/Library/Caches/org.scalameta.metals/bsp.trace.json[0m
[0m2021.03.26 13:41:27 INFO  time: Connected to build server in 1.23s[0m
[0m2021.03.26 13:41:27 INFO  Connected to Build server: Bloop v1.4.8[0m
[0m2021.03.26 13:41:32 INFO  no build target: using presentation compiler with only scala-library: 2.12.13[0m
[0m2021.03.26 13:41:32 ERROR Empty build targets. Expected at least one build target identifier.[0m
[0m2021.03.26 13:41:32 ERROR Empty build targets. Expected at least one build target identifier.[0m
[0m2021.03.26 13:41:32 ERROR Empty build targets. Expected at least one build target identifier.[0m
[0m2021.03.26 13:41:32 INFO  time: Imported build in 0.13s[0m
[0m2021.03.26 13:41:34 INFO  no build target: using presentation compiler with only scala-library: 2.12.13[0m
Mar 26, 2021 1:41:34 PM org.eclipse.lsp4j.jsonrpc.RemoteEndpoint handleCancellation
WARNING: Unmatched cancel notification for request id 12
package application

import application.model.Topic
import zio.{ExitCode, Schedule, Task, URIO, ZEnv, ZIO}
import zio.duration._
import java.io.InputStream


import zio.console.{getStrLn, putStrLn}

import scala.io.Source

object Main extends zio.App {
  def readFile(s: String): Task[List[String]] = {
    ZIO.effect(getClass.getClassLoader.getResourceAsStream(s))
      .bracket(is => ZIO.succeed(is.close())) {
        is => ZIO.effect(Source.fromInputStream(is).getLines.toList.sorted)
      }
  }

  def getBeaconTopics: ZIO[ZEnv, Throwable, List[Topic]] = {
    ZIO.effect(List("a", "b", "c", "d").map(Topic))
  }

  def readAndPrint(s: String): ZIO[zio.console.Console, Throwable, List[String]] = {
    putStrLn("Starting") *> myAppLogic *> readFile(s)
      .flatMap(
        set => Task {
          set.foreach(println)
          set
        }
      )
  }

  val myAppLogic =
    for {
      _    <- putStrLn("Hello! What is your name?")
      name <- getStrLn
      _    <- putStrLn(s"Hello, ${name}, welcome to ZIO!")
    } yield ()

  // return type of run must be infallible [i.e. URIO]; need to handle errors to make it work
  override def run(args: List[String]): URIO[ZEnv, ExitCode] =
    readAndPrint("topics")
      .repeat(Schedule.spaced(12.seconds) && Schedule.recurs(3))
      .as(ExitCode(0))
      .orElse(ZIO.succeed(ExitCode(1)))
}

package application

import application.model.Topic
import zio.{ExitCode, Schedule, Task, URIO, ZEnv, ZIO}
import zio.duration._
import java.io.InputStream


import zio.console.{getStrLn, putStrLn}

import scala.io.Source

object Main extends zio.App {
  def readFile(s: String): Task[List[String]] = {
    ZIO.effect(getClass.getClassLoader.getResourceAsStream(s))
      .bracket(is => ZIO.succeed(is.close())) {
        is => ZIO.effect(Source.fromInputStream(is).getLines.toList.sorted)
      }
  }

  def getBeaconTopics: ZIO[ZEnv, Throwable, List[Topic]] = {
    ZIO.effect(List("a", "b", "c", "d").map(Topic))
  }

  def readAndPrint(s: String): ZIO[zio.console.Console, Throwable, List[String]] = {
    putStrLn("Starting") *> myAppLogic *> readFile(s)
      .flatMap(
        set => Task {
          set.foreach(println)
          set
        }
      )
  }

  val myAppLogic =
    for {
      _    <- putStrLn("Hello! What is your name?")
      name <- getStrLn
      _    <- putStrLn(s"Hello, ${name}, welcome to ZIO!")
    } yield ()

  // return type of run must be infallible [i.e. URIO]; need to handle errors to make it work
  override def run(args: List[String]): URIO[ZEnv, ExitCode] =
    readAndPrint("topics")
      .repeat(Schedule.spaced(12.seconds) && Schedule.recurs(3))
      .as(ExitCode(0))
      .orElse(ZIO.succeed(ExitCode(1)))
}

[0m2021.03.26 13:41:38 INFO  time: code lens generation in 10s[0m
[0m2021.03.26 13:41:38 INFO  time: code lens generation in 11s[0m
[0m2021.03.26 13:41:38 INFO  time: code lens generation in 10s[0m
[0m2021.03.26 13:41:38 INFO  time: code lens generation in 11s[0m
[0m2021.03.26 13:41:38 INFO  time: indexed workspace in 6.09s[0m
[0m2021.03.26 13:41:38 WARN  no build target for: /Users/radu.stoian/IdeaProjects/zio_playground/src/main/scala/application/Main.scala[0m
[0m2021.03.26 13:50:28 WARN  no build target for: /Users/radu.stoian/IdeaProjects/zio_playground/src/main/scala/application/DataTopicsKafkaAdminClient.scala[0m
package application

import application.model.Topic
import zio.{Has, RIO, Task, ZIO, ZLayer}

object DataTopicsKafkaAdminClient {

  trait Service {
    def getAllNonInternalTopics: Task[List[Topic]]
  }

}



Mar 26, 2021 1:50:30 PM org.eclipse.lsp4j.jsonrpc.RemoteEndpoint handleCancellation
WARNING: Unmatched cancel notification for request id 47
[0m2021.03.26 13:50:32 WARN  no build target for: /Users/radu.stoian/IdeaProjects/zio_playground/src/main/scala/application/KafkaTopicsRetriever.scala[0m
package application

import scala.util.matching.Regex

object KafkaTopicsRetriever {

  trait Service {
    def retrieveKafkaTopics(topicRegex: Regex)
  }

}

Mar 26, 2021 1:50:33 PM org.eclipse.lsp4j.jsonrpc.RemoteEndpoint handleCancellation
WARNING: Unmatched cancel notification for request id 59
[0m2021.03.26 13:50:32 WARN  no build target for: /Users/radu.stoian/IdeaProjects/zio_playground/src/main/scala/application/KafkaAdminClientProvider.scala[0m
package application

import zio.UIO

object KafkaAdminClientProvider {



}

Mar 26, 2021 1:50:34 PM org.eclipse.lsp4j.jsonrpc.RemoteEndpoint handleCancellation
WARNING: Unmatched cancel notification for request id 65
[0m2021.03.26 13:50:34 WARN  no build target for: /Users/radu.stoian/IdeaProjects/zio_playground/src/main/scala/application/DataTopicsKafkaAdminClient.scala[0m
Mar 26, 2021 1:50:35 PM org.eclipse.lsp4j.jsonrpc.RemoteEndpoint handleCancellation
WARNING: Unmatched cancel notification for request id 71
[0m2021.03.26 13:50:35 WARN  no build target for: /Users/radu.stoian/IdeaProjects/zio_playground/src/main/scala/application/model/package.scala[0m
package application

package object model {
  case class Topic(s: String) extends AnyVal
}

Mar 26, 2021 1:50:36 PM org.eclipse.lsp4j.jsonrpc.RemoteEndpoint handleCancellation
WARNING: Unmatched cancel notification for request id 77
[0m2021.03.26 13:50:37 WARN  no build target for: /Users/radu.stoian/IdeaProjects/zio_playground/src/main/scala/application/KafkaTopicsRetriever.scala[0m
Mar 26, 2021 1:50:42 PM org.eclipse.lsp4j.jsonrpc.RemoteEndpoint handleCancellation
WARNING: Unmatched cancel notification for request id 89
[0m2021.03.26 13:52:52 WARN  no build target for: /Users/radu.stoian/IdeaProjects/zio_playground/build.sbt[0m
name := "zio_playground"

version := "0.1"

scalaVersion := "2.13.5"

libraryDependencies += "dev.zio" %% "zio" % "1.0.4-2"
name := "zio_playground"

version := "0.1"

scalaVersion := "2.13.5"

libraryDependencies += "dev.zio" %% "zio" % "1.0.4-2"
name := "zio_playground"

version := "0.1"

scalaVersion := "2.13.5"

libraryDependencies += "dev.zio" %% "zio" % "1.0.4-2"
name := "zio_playground"

version := "0.1"

scalaVersion := "2.13.5"

libraryDependencies += "dev.zio" %% "zio" % "1.0.4-2"
name := "zio_playground"

version := "0.1"

scalaVersion := "2.13.5"

libraryDependencies += "dev.zio" %% "zio" % "1.0.4-2"
name := "zio_playground"

version := "0.1"

scalaVersion := "2.13.5"

libraryDependencies += "dev.zio" %% "zio" % "1.0.4-2"
name := "zio_playground"

version := "0.1"

scalaVersion := "2.13.5"

libraryDependencies += "dev.zio" %% "zio" % "1.0.4-2"
name := "zio_playground"

version := "0.1"

scalaVersion := "2.13.5"

libraryDependencies += "dev.zio" %% "zio" % "1.0.4-2"
name := "zio_playground"

version := "0.1"

scalaVersion := "2.13.5"

libraryDependencies += "dev.zio" %% "zio" % "1.0.4-2"
[0m2021.03.26 13:53:02 WARN  no build target for: /Users/radu.stoian/IdeaProjects/zio_playground/build.sbt[0m
name := "zio_playground"

version := "0.1"

scalaVersion := "2.13.5"

libraryDependencies += "dev.zio" %% "zio" % "1.0.4-1"
name := "zio_playground"

version := "0.1"

scalaVersion := "2.13.5"

libraryDependencies += "dev.zio" %% "zio" % "1.0.4-1"
name := "zio_playground"

version := "0.1"

scalaVersion := "2.13.5"

libraryDependencies += "dev.zio" %% "zio" % "1.0.4-1"
name := "zio_playground"

version := "0.1"

scalaVersion := "2.13.5"

libraryDependencies += "dev.zio" %% "zio" % "1.0.4-1"
name := "zio_playground"

version := "0.1"

scalaVersion := "2.13.5"

libraryDependencies += "dev.zio" %% "zio" % "1.0.4-1"
[0m2021.03.26 13:53:08 WARN  no build target for: /Users/radu.stoian/IdeaProjects/zio_playground/build.sbt[0m
name := "zio_playground"

version := "0.1"

scalaVersion := "2.13.5"

libraryDependencies += "dev.zio" %% "zio" % "1.0.4-2"
[0m2021.03.26 13:53:14 INFO  skipping build import with status 'Dismissed'[0m
name := "zio_playground"

version := "0.1"

scalaVersion := "2.13.5"

libraryDependencies += "dev.zio" %% "zio" % "1.0.4-2"
name := "zio_playground"

version := "0.1"

scalaVersion := "2.13.5"

libraryDependencies += "dev.zio" %% "zio" % "1.0.4-2"
Mar 26, 2021 1:53:16 PM org.eclipse.lsp4j.jsonrpc.RemoteEndpoint handleCancellation
WARNING: Unmatched cancel notification for request id 180
[0m2021.03.26 13:53:29 WARN  no build target for: /Users/radu.stoian/IdeaProjects/zio_playground/src/main/scala/application/Main.scala[0m
Mar 26, 2021 1:57:22 PM org.eclipse.lsp4j.jsonrpc.services.GenericEndpoint notify
INFO: Unsupported notification method: $/setTraceNotification
[0m2021.03.26 13:57:27 WARN  no build target for: /Users/radu.stoian/IdeaProjects/zio_playground/src/main/scala/application/Main.scala[0m
package application

import application.model.Topic
import zio.{ExitCode, Schedule, Task, URIO, ZEnv, ZIO}
import zio.duration._
import java.io.InputStream


import zio.console.{getStrLn, putStrLn}

import scala.io.Source

object test extends App {
  println("hu")
}

object Main extends zio.App {
  def readFile(s: String): Task[List[String]] = {
    ZIO.effect(getClass.getClassLoader.getResourceAsStream(s))
      .bracket(is => ZIO.succeed(is.close())) {
        is => ZIO.effect(Source.fromInputStream(is).getLines.toList.sorted)
      }
  }

  def getBeaconTopics: ZIO[ZEnv, Throwable, List[Topic]] = {
    ZIO.effect(List("a", "b", "c", "d").map(Topic))
  }

  def readAndPrint(s: String): ZIO[zio.console.Console, Throwable, List[String]] = {
    putStrLn("Starting") *> myAppLogic *> readFile(s)
      .flatMap(
        set => Task {
          set.foreach(println)
          set
        }
      )
  }

  val myAppLogic =
    for {
      _    <- putStrLn("Hello! What is your name?")
      name <- getStrLn
      _    <- putStrLn(s"Hello, ${name}, welcome to ZIO!")
    } yield ()

  // return type of run must be infallible [i.e. URIO]; need to handle errors to make it work
  override def run(args: List[String]): URIO[ZEnv, ExitCode] =
    readAndPrint("topics")
      .repeat(Schedule.spaced(12.seconds) && Schedule.recurs(3))
      .as(ExitCode(0))
      .orElse(ZIO.succeed(ExitCode(1)))
}

[0m2021.03.26 13:59:27 WARN  no build target for: /Users/radu.stoian/IdeaProjects/zio_playground/src/main/scala/application/Main.scala[0m
[0m2021.03.26 14:02:40 INFO  shutting down Metals[0m
[0m2021.03.26 14:02:40 INFO  Shut down connection with build server.[0m
No more data in the client stdin, exiting...
[0m2021.03.26 15:16:19 INFO  Started: Metals version 0.10.0 in workspace '/Users/radu.stoian/IdeaProjects/zio_playground' for client vscode 1.54.3.[0m
[0m2021.03.26 15:16:20 INFO  time: initialize in 0.52s[0m
[0m2021.03.26 15:16:20 INFO  Attempting to connect to the build server...[0m
Starting the bsp launcher for bloop...
Opening a bsp server connection with 'bsp --protocol local --socket /var/folders/rx/gyxm_hyx0rs8j_zhhv6kwj9c0000gp/T/bsp-launcher5868565197675255491/bsp.socket'...
Waiting for the bsp connection to come up...
[0m2021.03.26 15:16:20 WARN  no build target for: /Users/radu.stoian/IdeaProjects/zio_playground/src/main/scala/application/Main.scala[0m
[0m[32m[D][0m Waiting for a connection at local:///var/folders/rx/gyxm_hyx0rs8j_zhhv6kwj9c0000gp/T/bsp-launcher5868565197675255491/bsp.socket...
The server is listening for incoming connections at local:///var/folders/rx/gyxm_hyx0rs8j_zhhv6kwj9c0000gp/T/bsp-launcher5868565197675255491/bsp.socket...
Starting thread that pumps stdin and redirects it to the bsp server...
Starting thread that pumps server stdout and redirects it to the client stdout...
[0m2021.03.26 15:16:21 INFO  tracing is disabled for protocol BSP, to enable tracing of incoming and outgoing JSON messages create an empty file at /Users/radu.stoian/Library/Caches/org.scalameta.metals/bsp.trace.json[0m
[0m2021.03.26 15:16:21 INFO  time: Connected to build server in 0.72s[0m
[0m2021.03.26 15:16:21 INFO  Connected to Build server: Bloop v1.4.8[0m
[0m2021.03.26 15:16:23 INFO  no build target: using presentation compiler with only scala-library: 2.12.13[0m
Mar 26, 2021 3:16:23 PM org.eclipse.lsp4j.jsonrpc.RemoteEndpoint handleCancellation
WARNING: Unmatched cancel notification for request id 2
[0m2021.03.26 15:16:23 ERROR Empty build targets. Expected at least one build target identifier.[0m
[0m2021.03.26 15:16:23 ERROR Empty build targets. Expected at least one build target identifier.[0m
[0m2021.03.26 15:16:23 ERROR Empty build targets. Expected at least one build target identifier.[0m
[0m2021.03.26 15:16:23 INFO  time: Imported build in 0.14s[0m
[0m2021.03.26 15:16:24 INFO  no build target: using presentation compiler with only scala-library: 2.12.13[0m
package application

import application.model.Topic
import zio.{ExitCode, Schedule, Task, URIO, ZEnv, ZIO}
import zio.duration._
import java.io.InputStream


import zio.console.{getStrLn, putStrLn}

import scala.io.Source

object test extends App {
  println("hu")
}

object Main extends zio.App {
  def readFile(s: String): Task[List[String]] = {
    ZIO.effect(getClass.getClassLoader.getResourceAsStream(s))
      .bracket(is => ZIO.succeed(is.close())) {
        is => ZIO.effect(Source.fromInputStream(is).getLines.toList.sorted)
      }
  }

  def getBeaconTopics: ZIO[ZEnv, Throwable, List[Topic]] = {
    ZIO.effect(List("a", "b", "c", "d").map(Topic))
  }

  def readAndPrint(s: String): ZIO[zio.console.Console, Throwable, List[String]] = {
    putStrLn("Starting") *> myAppLogic *> readFile(s)
      .flatMap(
        set => Task {
          set.foreach(println)
          set
        }
      )
  }

  val myAppLogic =
    for {
      _    <- putStrLn("Hello! What is your name?")
      name <- getStrLn
      _    <- putStrLn(s"Hello, ${name}, welcome to ZIO!")
    } yield ()

  // return type of run must be infallible [i.e. URIO]; need to handle errors to make it work
  override def run(args: List[String]): URIO[ZEnv, ExitCode] =
    readAndPrint("topics")
      .repeat(Schedule.spaced(12.seconds) && Schedule.recurs(3))
      .as(ExitCode(0))
      .orElse(ZIO.succeed(ExitCode(1)))
}

package application

import application.model.Topic
import zio.{ExitCode, Schedule, Task, URIO, ZEnv, ZIO}
import zio.duration._
import java.io.InputStream


import zio.console.{getStrLn, putStrLn}

import scala.io.Source

object test extends App {
  println("hu")
}

object Main extends zio.App {
  def readFile(s: String): Task[List[String]] = {
    ZIO.effect(getClass.getClassLoader.getResourceAsStream(s))
      .bracket(is => ZIO.succeed(is.close())) {
        is => ZIO.effect(Source.fromInputStream(is).getLines.toList.sorted)
      }
  }

  def getBeaconTopics: ZIO[ZEnv, Throwable, List[Topic]] = {
    ZIO.effect(List("a", "b", "c", "d").map(Topic))
  }

  def readAndPrint(s: String): ZIO[zio.console.Console, Throwable, List[String]] = {
    putStrLn("Starting") *> myAppLogic *> readFile(s)
      .flatMap(
        set => Task {
          set.foreach(println)
          set
        }
      )
  }

  val myAppLogic =
    for {
      _    <- putStrLn("Hello! What is your name?")
      name <- getStrLn
      _    <- putStrLn(s"Hello, ${name}, welcome to ZIO!")
    } yield ()

  // return type of run must be infallible [i.e. URIO]; need to handle errors to make it work
  override def run(args: List[String]): URIO[ZEnv, ExitCode] =
    readAndPrint("topics")
      .repeat(Schedule.spaced(12.seconds) && Schedule.recurs(3))
      .as(ExitCode(0))
      .orElse(ZIO.succeed(ExitCode(1)))
}

[0m2021.03.26 15:16:26 INFO  time: code lens generation in 4.97s[0m
[0m2021.03.26 15:16:26 INFO  time: code lens generation in 4.97s[0m
[0m2021.03.26 15:16:26 INFO  time: code lens generation in 2.47s[0m
[0m2021.03.26 15:16:26 INFO  time: code lens generation in 2.47s[0m
[0m2021.03.26 15:16:26 INFO  time: indexed workspace in 2.85s[0m
[0m2021.03.26 15:16:26 WARN  no build target for: /Users/radu.stoian/IdeaProjects/zio_playground/src/main/scala/application/Main.scala[0m
[0m2021.03.26 15:16:27 INFO  shutting down Metals[0m
[0m2021.03.26 15:16:27 INFO  Shut down connection with build server.[0m
No more data in the client stdin, exiting...
No more data in the server stdin, exiting...
No more data in the server stdin, exiting...
[0m2021.03.26 15:16:57 INFO  Started: Metals version 0.10.0 in workspace '/Users/radu.stoian/IdeaProjects/zio_playground' for client vscode 1.54.3.[0m
[0m2021.03.26 15:16:57 INFO  time: initialize in 0.59s[0m
[0m2021.03.26 15:16:58 INFO  Attempting to connect to the build server...[0m
Starting the bsp launcher for bloop...
Opening a bsp server connection with 'bsp --protocol local --socket /var/folders/rx/gyxm_hyx0rs8j_zhhv6kwj9c0000gp/T/bsp-launcher3450926323211830599/bsp.socket'...
Waiting for the bsp connection to come up...
[0m2021.03.26 15:16:57 WARN  no build target for: /Users/radu.stoian/IdeaProjects/zio_playground/src/main/scala/application/Main.scala[0m
[0m2021.03.26 15:16:57 INFO  skipping build import with status 'Requested'[0m
[0m[32m[D][0m Waiting for a connection at local:///var/folders/rx/gyxm_hyx0rs8j_zhhv6kwj9c0000gp/T/bsp-launcher3450926323211830599/bsp.socket...
The server is listening for incoming connections at local:///var/folders/rx/gyxm_hyx0rs8j_zhhv6kwj9c0000gp/T/bsp-launcher3450926323211830599/bsp.socket...
Starting thread that pumps stdin and redirects it to the bsp server...
Starting thread that pumps server stdout and redirects it to the client stdout...
[0m2021.03.26 15:16:58 INFO  tracing is disabled for protocol BSP, to enable tracing of incoming and outgoing JSON messages create an empty file at /Users/radu.stoian/Library/Caches/org.scalameta.metals/bsp.trace.json[0m
[0m2021.03.26 15:16:58 INFO  time: Connected to build server in 0.65s[0m
[0m2021.03.26 15:16:58 INFO  Connected to Build server: Bloop v1.4.8[0m
[0m2021.03.26 15:17:00 INFO  no build target: using presentation compiler with only scala-library: 2.12.13[0m
[0m2021.03.26 15:17:00 ERROR Empty build targets. Expected at least one build target identifier.[0m
[0m2021.03.26 15:17:00 ERROR Empty build targets. Expected at least one build target identifier.[0m
[0m2021.03.26 15:17:00 ERROR Empty build targets. Expected at least one build target identifier.[0m
[0m2021.03.26 15:17:00 INFO  time: Imported build in 0.13s[0m
package application

import application.model.Topic
import zio.{ExitCode, Schedule, Task, URIO, ZEnv, ZIO}
import zio.duration._
import java.io.InputStream


import zio.console.{getStrLn, putStrLn}

import scala.io.Source

object test extends App {
  println("hu")
}

object Main extends zio.App {
  def readFile(s: String): Task[List[String]] = {
    ZIO.effect(getClass.getClassLoader.getResourceAsStream(s))
      .bracket(is => ZIO.succeed(is.close())) {
        is => ZIO.effect(Source.fromInputStream(is).getLines.toList.sorted)
      }
  }

  def getBeaconTopics: ZIO[ZEnv, Throwable, List[Topic]] = {
    ZIO.effect(List("a", "b", "c", "d").map(Topic))
  }

  def readAndPrint(s: String): ZIO[zio.console.Console, Throwable, List[String]] = {
    putStrLn("Starting") *> myAppLogic *> readFile(s)
      .flatMap(
        set => Task {
          set.foreach(println)
          set
        }
      )
  }

  val myAppLogic =
    for {
      _    <- putStrLn("Hello! What is your name?")
      name <- getStrLn
      _    <- putStrLn(s"Hello, ${name}, welcome to ZIO!")
    } yield ()

  // return type of run must be infallible [i.e. URIO]; need to handle errors to make it work
  override def run(args: List[String]): URIO[ZEnv, ExitCode] =
    readAndPrint("topics")
      .repeat(Schedule.spaced(12.seconds) && Schedule.recurs(3))
      .as(ExitCode(0))
      .orElse(ZIO.succeed(ExitCode(1)))
}

Mar 26, 2021 3:17:05 PM org.eclipse.lsp4j.jsonrpc.services.GenericEndpoint notify
INFO: Unsupported notification method: $/setTraceNotification
[0m2021.03.26 15:17:08 INFO  no build target: using presentation compiler with only scala-library: 2.12.13[0m
[0m2021.03.26 15:17:08 INFO  time: indexed workspace in 7.38s[0m
[0m2021.03.26 15:17:08 WARN  no build target for: /Users/radu.stoian/IdeaProjects/zio_playground/src/main/scala/application/Main.scala[0m
package application

import application.model.Topic
import zio.{ExitCode, Schedule, Task, URIO, ZEnv, ZIO}
import zio.duration._
import java.io.InputStream


import zio.console.{getStrLn, putStrLn}

import scala.io.Source

object test extends App {
  println("hu")
}

object Main extends zio.App {
  def readFile(s: String): Task[List[String]] = {
    ZIO.effect(getClass.getClassLoader.getResourceAsStream(s))
      .bracket(is => ZIO.succeed(is.close())) {
        is => ZIO.effect(Source.fromInputStream(is).getLines.toList.sorted)
      }
  }

  def getBeaconTopics: ZIO[ZEnv, Throwable, List[Topic]] = {
    ZIO.effect(List("a", "b", "c", "d").map(Topic))
  }

  def readAndPrint(s: String): ZIO[zio.console.Console, Throwable, List[String]] = {
    putStrLn("Starting") *> myAppLogic *> readFile(s)
      .flatMap(
        set => Task {
          set.foreach(println)
          set
        }
      )
  }

  val myAppLogic =
    for {
      _    <- putStrLn("Hello! What is your name?")
      name <- getStrLn
      _    <- putStrLn(s"Hello, ${name}, welcome to ZIO!")
    } yield ()

  // return type of run must be infallible [i.e. URIO]; need to handle errors to make it work
  override def run(args: List[String]): URIO[ZEnv, ExitCode] =
    readAndPrint("topics")
      .repeat(Schedule.spaced(12.seconds) && Schedule.recurs(3))
      .as(ExitCode(0))
      .orElse(ZIO.succeed(ExitCode(1)))
}

[0m2021.03.26 15:17:08 INFO  time: code lens generation in 10s[0m
[0m2021.03.26 15:17:08 INFO  time: code lens generation in 10s[0m
Mar 26, 2021 3:18:18 PM org.eclipse.lsp4j.jsonrpc.services.GenericEndpoint notify
INFO: Unsupported notification method: $/setTraceNotification
[0m2021.03.26 15:24:07 WARN  no build target for: /Users/radu.stoian/IdeaProjects/zio_playground/build.sbt[0m
name := "zio_playground"

version := "0.1"

scalaVersion := "2.13.5"

libraryDependencies += "dev.zio" %% "zio" % "1.0.4-2"
name := "zio_playground"

version := "0.1"

scalaVersion := "2.13.5"

libraryDependencies += "dev.zio" %% "zio" % "1.0.4-2"
name := "zio_playground"

version := "0.1"

scalaVersion := "2.13.5"

libraryDependencies += "dev.zio" %% "zio" % "1.0.4-2"
name := "zio_playground"

version := "0.1"

scalaVersion := "2.13.5"

libraryDependencies += "dev.zio" %% "zio" % "1.0.4-2"
[0m2021.03.26 15:24:34 INFO  shutting down Metals[0m
[0m2021.03.26 15:24:34 INFO  Shut down connection with build server.[0m
No more data in the server stdin, exiting...
No more data in the server stdin, exiting...
No more data in the client stdin, exiting...
